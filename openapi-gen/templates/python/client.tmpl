from base_client import BaseClient, StreamResponse
from typing import Optional
{{- range $i, $ref := (clientReferences .Paths)}}
from models.{{refToName $ref | toSnake}} import {{refToName $ref | toCamel}}
{{- end}}

{{/* TODO: make class name configurable */ -}}
class {{with index additionalParameters "clientClassName"}}{{.}}{{else}}Client{{end}}(BaseClient):
    {{- range $path, $item := .Paths -}}{{- range $method, $operation := $item.Operations}}    
    {{template "requestFunction" (operationContext $operation $method $path)}}
    {{- end -}}{{- end -}}