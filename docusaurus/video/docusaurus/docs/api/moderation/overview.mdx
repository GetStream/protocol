---
id: moderation_index
sidebar_position: 1
slug: /moderation/overview
title: Overview
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

When running calls with a larger audience, you’ll often need moderation features to prevent abuse. Participants can share inappropriate content via

- The video feed
- Audio
- Screen share
- Chat messages
- Username

Stream has tools to help you manage these issues while on a call.

### Removing & Blocking a member from a call

Call can be configured to only be accessible to their members. To remove a user from a call and prevent from accessing again:

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
// Block user
call.blockUser({ user_id: 'sara' });

// Unblock user
call.unblockUser({ user_id: 'sara' });
```

</TabItem>
<TabItem value="py" label="Python">

```py
# Block user
call.block_user(user_id='sara')

# Unblock user
call.unblock_user(user_id='sara')
```

</TabItem>
</Tabs>

### Call permissions

You can configure if a screen share is enabled, disabled or requires requesting permission

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
call.update({
  settings_override: {
    screensharing: { enabled: true, access_request_enabled: true },
  },
});
```

</TabItem>
<TabItem value="py" label="Python">

```py
from getstream.models import CallSettingsRequest

call.update(
    settings_override=CallSettingsRequest(
        screensharing=ScreensharingSettingsRequest(
            enabled=True, access_request_enabled=True
        ),
    ),
)
```

</TabItem>
</Tabs>

### Muting everyone

You can also mute every other participant’s video or audio.

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
// You can specify which kind of stream(s) to mute
call.muteUsers({
  mute_all_users: true,
  audio: true,
});
```

</TabItem>
<TabItem value="py" label="Python">

```py
# You can specify which kind of stream(s) to mute
call.mute_users(
    mute_all_users=True,
    audio=True,
)
```

</TabItem>
</Tabs>

### Muting one participant's video or audio (or both)

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
call.muteUsers({
  user_ids: ['sara'],
  audio: true,
  video: true,
  screenshare: true,
  screenshare_audio: true,
});
```

</TabItem>
<TabItem value="py" label="Python">

```py
call.mute_users(
    muted_by_id=user_id,
    user_ids=[alice.id, bob.id],
    audio=True,
    video=True,
    screenshare=True,
    screenshare_audio=True,
)
```

</TabItem>
</Tabs>

### Granting and revoking permissions

It's possible for users to ask for any of the following permissions:

- Sending audio
- Sending video
- Sharing their screen

These requests will trigger the `call.permission_request` webhook.

This is how these requests can be accepted:

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
call.updateUserPermissions({
  user_id: 'sara',
  grant_permissions: [VideoOwnCapability.SEND_AUDIO],
});
```

</TabItem>
<TabItem value="py" label="Python">

```py
from getstream.models import OwnCapability

call.update_user_permissions(
    user_id=alice.id,
    grant_permissions=[OwnCapability.SEND_AUDIO],
)
```

</TabItem>
</Tabs>

For moderation purposes any user's permission to

- send audio
- send video
- share their screen

can be revoked at any time. This is how it can be done:

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
call.updateUserPermissions({
  user_id: 'sara',
  revoke_permissions: [VideoOwnCapability.SEND_AUDIO],
});
```

</TabItem>
<TabItem value="py" label="Python">

```py
from getstream.models import OwnCapability

call.update_user_permissions(
    user_id=alice.id,
    revoke_permissions=[OwnCapability.SEND_AUDIO],
)
```

</TabItem>
</Tabs>

### Banning users

Users can be banned, when doing that they are not allowed to join or create calls. Banned users also cannot ring or notify other users.

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
// TODO: not implemented yet
```

</TabItem>
<TabItem value="py" label="Python">

```py
# ban a user
client.ban(
    target_user_id=bad_user.id,
    banned_by_id=moderator.id,
    reason="banned reason here",
)

# remove the ban for a user
client.unban(target_user_id=bad_user.id)

# ban a user for 30 minutes
client.ban(
    target_user_id=bad_user.id,
    banned_by_id=moderator.id,
    timeout=30,
)

# ban a user and all users sharing the same IP
client.ban(
    target_user_id=bad_user.id,
    banned_by_id=moderator.id,
    reason="Banned user and all users sharing the same IP for half hour",
    ip_ban=True,
)
```

</TabItem>
</Tabs>

### Deactivating users

Deactivated users are no longer able to make any API call or connect to websockets (and receive updates on event of any kind).

<Tabs groupId="examples">
<TabItem value="js" label="JavaScript">

```js
// TODO: not implemented yet
```

</TabItem>
<TabItem value="py" label="Python">

```py
# deactivate one user
client.deactivate_user(user_id=alice.id)

# reactivates the user
client.reactivate_user(user_id=alice.id)

# deactivates users in bulk, this is an async operation
response = client.deactivate_users(user_ids=[alice.id, bob.id])
task_id = response.data.task_id

# get information about the task
task_status = client.get_task(task_id)

# just an example, in reality it can take a few seconds for a task to be processed
if task_status.data.status == "completed":
    print(task_status.data.result)
```

</TabItem>
</Tabs>
